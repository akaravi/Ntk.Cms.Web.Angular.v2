<h2 mat-dialog-title>{{ formInfo.FormTitle }}</h2>
<mat-dialog-content>
  <form (ngSubmit)="onFormSubmit()" #vform="ngForm" class="form form-horizontal">
    <app-progress-spinner [options]="loading"> </app-progress-spinner>
    <div *ngIf="!loading.display" class="form-body">
      <!-- RecordStatus Field -->
      <mat-form-field class="example-full-width" *ngIf="fieldsInfo['RecordStatus']?.AccessWatchField">
        <mat-select placeholder="{{fieldsInfo['RecordStatus']?.FieldTitle}}" [(ngModel)]="dataModel.RecordStatus"
          [disabled]="!fieldsInfo['RecordStatus']?.AccessEditField" name="dataModel.RecordStatus"
          #RecordStatus="ngModel" panelClass="recordStatus-{{ dataModel.RecordStatus }}" required>
          <mat-option *ngFor="
            let item of dataModelEnumRecordStatusResult.ListItems;
            index as i
          " [value]="item.Value">{{ item.Description }}</mat-option>
        </mat-select>
        <mat-hint align="end">{{ 'Application.Source.RecordStatus_hint' | translate }}</mat-hint>
        <mat-error *ngIf="RecordStatus.errors?.required">
          {{ fieldsInfo['RecordStatus']?.FieldTitle }} is <strong>required</strong>
        </mat-error>
      </mat-form-field>
      <!-- LinkPublicConfigId Field -->
      <app-bankpayment-publicconfig-selector (optionSelect)="onActionSelectSource($event)"
        [optionDisabled]="!fieldsInfo['LinkPublicConfigId']?.AccessEditField"
        [optionSelectForce]="dataModel.LinkPublicConfigId" [optionPlaceholder]="'نوع حساب'">
      </app-bankpayment-publicconfig-selector>
      <!-- Title Field -->
      <mat-form-field class="example-full-width" *ngIf="fieldsInfo['Title']?.AccessWatchField">
        <mat-label>{{ fieldsInfo['Title']?.FieldTitle }}</mat-label>
        <input matInput [(ngModel)]="dataModel.Title" [disabled]="!fieldsInfo['Title']?.AccessEditField"
          name="dataModel.Title" #Title type="text" placeholder="{{fieldsInfo['Title']?.FieldTitle}}" minlength="3" maxlength="100" required />
        <mat-icon matSuffix *ngIf="dataModel.Title && fieldsInfo['Title']?.AccessEditField" matSuffix mat-icon-button
          aria-label="Clear" (click)="dataModel.Title = ''">close</mat-icon>
        <mat-icon *ngIf="fieldsInfo['Title']?.AccessEditField" matSuffix>mode_edit</mat-icon>
        <mat-hint align="start">{{ Title.value.length }} / 100</mat-hint>
        <mat-error *ngIf="Title.errors?.required">
          {{ fieldsInfo['Title']?.FieldTitle }} is <strong>required</strong>
        </mat-error>
      </mat-form-field>
      <!-- CurrencyUnitRatioByShop Field -->
      <mat-form-field class="example-full-width" *ngIf="fieldsInfo['CurrencyUnitRatioByShop']?.AccessWatchField">
        <mat-label>{{ fieldsInfo['CurrencyUnitRatioByShop']?.FieldTitle }}</mat-label>
        <input matInput [(ngModel)]="dataModel.CurrencyUnitRatioByShop"
          [disabled]="!fieldsInfo['CurrencyUnitRatioByShop']?.AccessEditField" name="dataModel.CurrencyUnitRatioByShop"
          #CurrencyUnitRatioByShop type="number" placeholder="Currency Unit Ratio By Shop" />
        <mat-icon matSuffix
          *ngIf="dataModel.CurrencyUnitRatioByShop && fieldsInfo['CurrencyUnitRatioByShop']?.AccessEditField" matSuffix
          mat-icon-button aria-label="Clear" (click)="dataModel.CurrencyUnitRatioByShop = 1">close</mat-icon>
        <mat-icon *ngIf="fieldsInfo['CurrencyUnitRatioByShop']?.AccessEditField" matSuffix>mode_edit</mat-icon>
      </mat-form-field>

      <!-- MinTransactionAmount Field -->
      <mat-form-field class="example-full-width" *ngIf="fieldsInfo['MinTransactionAmount']?.AccessWatchField">
        <mat-label>{{ fieldsInfo['MinTransactionAmount']?.FieldTitle }}</mat-label>
        <input matInput [(ngModel)]="dataModel.MinTransactionAmount"
          [disabled]="!fieldsInfo['MinTransactionAmount']?.AccessEditField" name="dataModel.MinTransactionAmount"
          #MinTransactionAmount type="number" placeholder="Min Transaction Amount" />
        <mat-icon matSuffix
          *ngIf="dataModel.MinTransactionAmount && fieldsInfo['MinTransactionAmount']?.AccessEditField" matSuffix
          mat-icon-button aria-label="Clear" (click)="dataModel.MinTransactionAmount = 0">close</mat-icon>
        <mat-icon *ngIf="fieldsInfo['MinTransactionAmount']?.AccessEditField" matSuffix>mode_edit</mat-icon>
      </mat-form-field>

      <!-- MaxTransactionAmount Field -->
      <mat-form-field class="example-full-width" *ngIf="fieldsInfo['MaxTransactionAmount']?.AccessWatchField">
        <mat-label>{{ fieldsInfo['MaxTransactionAmount']?.FieldTitle }}</mat-label>
        <input matInput [(ngModel)]="dataModel.MaxTransactionAmount"
          [disabled]="!fieldsInfo['MaxTransactionAmount']?.AccessEditField" name="dataModel.MaxTransactionAmount"
          #MaxTransactionAmount type="number" placeholder="Max Transaction Amount" />
        <mat-icon matSuffix
          *ngIf="dataModel.MaxTransactionAmount && fieldsInfo['MaxTransactionAmount']?.AccessEditField" matSuffix
          mat-icon-button aria-label="Clear" (click)="dataModel.MaxTransactionAmount = 100000">close</mat-icon>
        <mat-icon *ngIf="fieldsInfo['MaxTransactionAmount']?.AccessEditField" matSuffix>mode_edit</mat-icon>
      </mat-form-field>



      <!-- FixFeeTransactionAmount Field -->
      <mat-form-field class="example-full-width" *ngIf="fieldsInfo['FixFeeTransactionAmount']?.AccessWatchField">
        <mat-label>{{ fieldsInfo['FixFeeTransactionAmount']?.FieldTitle }}</mat-label>
        <input matInput [(ngModel)]="dataModel.FixFeeTransactionAmount"
          [disabled]="!fieldsInfo['FixFeeTransactionAmount']?.AccessEditField" name="dataModel.FixFeeTransactionAmount"
          #FixFeeTransactionAmount type="number" placeholder="Fix Fee Transaction Amount" />
        <mat-icon matSuffix
          *ngIf="dataModel.FixFeeTransactionAmount && fieldsInfo['FixFeeTransactionAmount']?.AccessEditField" matSuffix
          mat-icon-button aria-label="Clear" (click)="dataModel.FixFeeTransactionAmount = 0">close</mat-icon>
        <mat-icon *ngIf="fieldsInfo['FixFeeTransactionAmount']?.AccessEditField" matSuffix>mode_edit</mat-icon>
      </mat-form-field>
      <!-- PercentFeeTransactionAmount Field -->
      <mat-form-field class="example-full-width" *ngIf="fieldsInfo['PercentFeeTransactionAmount']?.AccessWatchField">
        <mat-label>{{ fieldsInfo['PercentFeeTransactionAmount']?.FieldTitle }}</mat-label>
        <input matInput [(ngModel)]="dataModel.PercentFeeTransactionAmount"
          [disabled]="!fieldsInfo['PercentFeeTransactionAmount']?.AccessEditField"
          name="dataModel.PercentFeeTransactionAmount" #PercentFeeTransactionAmount type="number"
          placeholder="Percent Fee Transaction Amount" />
        <mat-icon matSuffix
          *ngIf="dataModel.PercentFeeTransactionAmount && fieldsInfo['PercentFeeTransactionAmount']?.AccessEditField"
          matSuffix mat-icon-button aria-label="Clear" (click)="dataModel.PercentFeeTransactionAmount = 100000">close
        </mat-icon>
        <mat-icon *ngIf="fieldsInfo['PercentFeeTransactionAmount']?.AccessEditField" matSuffix>mode_edit</mat-icon>
      </mat-form-field>
      <!-- Memo Field -->
      <mat-form-field class="example-full-width">
        <mat-label>{{fieldsInfo['Description']?.FieldTitle}}</mat-label>
        <textarea matInput [(ngModel)]="dataModel.Memo" name="dataModel.Memo" #Memo type="text" placeholder="{{fieldsInfo['Description']?.FieldTitle}}"
          minlength="1" maxlength="500" required rows=5></textarea>
        <mat-icon matSuffix *ngIf="dataModel.Memo" matSuffix mat-icon-button aria-label="Clear"
          (click)="dataModel.Memo = ''">close</mat-icon>
        <mat-icon matSuffix>mode_edit</mat-icon>
        <mat-hint align="end">{{ Memo.value.length }} / 500</mat-hint>
        <mat-error *ngIf="Memo.errors?.required">
          Memo is <strong>required</strong>
        </mat-error>
      </mat-form-field>
    </div>
  </form>
</mat-dialog-content>
<mat-dialog-actions align="end">
  <div class="form-actions">
    <small class="form-text text-muted">{{ formInfo.FormAlert }} </small>
    <small class="form-text text-muted danger">{{ formInfo.FormError }}
    </small>
  </div>
  <div class="form-actions" *ngIf="formInfo.FormSubmitAllow">
    <button type="button" (click)="onFormCancel()" class="btn btn-raised btn-warning mr-1">
      <i class="ft-x"></i> {{'ACTION.CANCEL' | translate}}
    </button>
    <button type="submit" (click)="onFormSubmit()" class="btn btn-raised btn-primary" [disabled]="!vform.form.valid">
      <i class="fa fa-check-square-o"></i> {{'ACTION.SAVE' | translate}}
    </button>
  </div>
</mat-dialog-actions>
